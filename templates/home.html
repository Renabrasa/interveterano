{% extends 'base.html' %}
{% block content %}

<div class="home-container">
    <div class="home-box">
        <img src="{{ url_for('static', filename='img/logoredondo.png') }}" alt="Escudo Inter Veterano" class="home-logo">

        <h1 class="home-titulo">INTER VETERANO</h1>
        <h2 class="home-subtitulo">VILA EUG√äNIO FRANKLIN</h2>

        <p class="home-frase">"Aqui o passado √© gl√≥ria e o presente √© luta!"</p>

        <p class="home-descricao">
            Seja bem-vindo ao sistema de gest√£o do Inter Veterano! Aqui voc√™ encontra controle de plantel,
            calend√°rios de jogos, desempenho da equipe, finan√ßas do clube e relat√≥rios gerenciais.
        </p>

        <a href="/calendario" class="botao-home">üìÖ Ver Agenda</a>
        <div class="proximo-jogo-box" id="proximo-jogo">
            <p><strong>Pr√≥ximo jogo:</strong> carregando...</p>
        </div>
    </div>
    
    
</div>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        fetch('/api/proximo-jogo')
            .then(res => res.json())
            .then(jogo => {
                const box = document.getElementById('proximo-jogo');
                if (!jogo || !jogo.titulo) {
                    box.innerHTML = '<p><strong>Pr√≥ximo jogo:</strong> Nenhum jogo agendado.</p>';
                } else {
                    const data = new Date(jogo.data);
                    const dia = String(data.getDate()).padStart(2, '0');
                    const mes = String(data.getMonth() + 1).padStart(2, '0');
                    const hora = String(data.getHours()).padStart(2, '0');
                    const minuto = String(data.getMinutes()).padStart(2, '0');
                    const dataFormatada = `${dia}/${mes} √†s ${hora}h${minuto}`;
    
                    box.innerHTML = `
                        <p><strong>Pr√≥ximo jogo:</strong></p>
                        <p>üìç <strong>${jogo.titulo}</strong></p>
                        <p>üïí ${dataFormatada}</p>
                        <p>üèüÔ∏è ${jogo.local || 'Local n√£o informado'}</p>
                    `;
                }
            })
            .catch(() => {
                document.getElementById('proximo-jogo').innerHTML =
                    '<p><strong>Pr√≥ximo jogo:</strong> erro ao buscar dados.</p>';
            });
    });
    </script>
    
{% endblock %}
